
# üèóÔ∏è PhotoSync ‚Äî Architecture Diagram

```mermaid
flowchart TD

    subgraph FE[Frontend - Vercel Hosting]
        A[Vue.js 3 SPA<br/>Vite Build]
    end

    subgraph BE[Backend - Google Cloud Run]
        B[Laravel 12 API<br/>Docker Container]
    end

    subgraph DB[Database - Neon Cloud]
        C[(PostgreSQL<br/>photosync_db)]
    end

    A -- HTTPS /api/messages --> B
    B -- SQL over SSL --> C

    A -- Public Access --> User[(End User)]
```

---

# üìò Explanation

### **Frontend (Vercel)**

* Vue.js SPA built with Vite
* Deployed automatically via GitHub integration
* Issues API requests to the backend over HTTPS

### **Backend (Google Cloud Run)**

* Laravel 12 application packaged in a Docker container
* Fully serverless and scalable
* Environment variables store DB credentials & APP_KEY

### **Database (Neon Postgres)**

* Cloud-hosted PostgreSQL instance
* SSL required
* Stores application data (e.g., messages from Contact Us form)

---

Here‚Äôs a single Markdown file containing **all three diagrams** (sequence, deployment, and roadmap) together.

You can save this as `diagrams.md` or merge into `architecture.md`.

---

# üìä Diagrams

---

## 1. Sequence Diagram ‚Äì Contact Us Flow

```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend (Vue.js on Vercel)
    participant B as Backend (Laravel on Cloud Run)
    participant D as DB (Neon Postgres)

    U->>F: Open app (Dashboard / Contact Us)
    F-->>U: Render UI

    U->>F: Submit Contact Form (email + message)
    F->>B: POST /api/messages (JSON body)
    B->>D: INSERT INTO messages (email, msg, timestamps)
    D-->>B: INSERT OK
    B-->>F: 201 Created (JSON { ok: true, id: ... })
    F-->>U: Show success message ("Message sent successfully")
```

---

## 2. Deployment Diagram ‚Äì Infrastructure & CI/CD

```mermaid
flowchart LR

    subgraph Dev[Source & Development]
        G[GitHub Repo<br/>photosync]
        L[Local Dev / Cloud Shell<br/>Laravel + Vue]
    end

    subgraph GCP[Google Cloud]
        subgraph AR[Artifact Registry]
            R[photosync-repo<br/>Docker Images]
        end

        subgraph CB[Cloud Build]
            C[Build Images<br/>from Dockerfile]
        end

        subgraph CR[Cloud Run]
            S[photosync-backend<br/>Laravel 12 API]
        end
    end

    subgraph Vercel[Vercel Cloud]
        V[Vue.js Frontend<br/>Vite Build]
    end

    subgraph Neon[Neon Cloud]
        N[(PostgreSQL<br/>photosync_db)]
    end

    U[End User Browser]:::user

    %% Flows
    G --> C --> R --> S
    G --> V

    V -->|HTTPS /api/messages| S
    S -->|SQL over SSL| N

    U -->|Open app| V
    U -->|Submit contact form| V

    classDef user fill:#f6f,stroke:#333,stroke-width:1px;
```

---

## 3. Roadmap Diagram ‚Äì Build Phases

```mermaid
flowchart TD
    subgraph P1["Phase 1 ‚Äì Foundation (DONE)"]
        A1["Create GitHub repo<br/>photosync"]
        A2["Setup Neon DB<br/>photosync_db"]
        A3["Setup GCP project<br/>photosync-backend-479418"]
        A4["Install Laravel 12<br/>+ .env + APP_KEY"]
        A5["Create messages table<br/>and API /api/messages"]
        A6["Create Vue 3 frontend<br/>Dashboard + Contact Us"]
        A7["Connect frontend to backend in dev<br/>VITE_API_URL=http://localhost:8000"]
        A8["Dockerize Laravel<br/>Deploy to Cloud Run"]
    end

    subgraph P2["Phase 2 ‚Äì Public Release (NEXT)"]
        B1["Deploy Vue frontend to Vercel"]
        B2["Set Vercel env<br/>VITE_API_URL=Cloud Run URL"]
        B3["Test end-to-end in production<br/>Contact form ‚Üí Neon DB"]
        B4["Add basic About/Status pages<br/>for visitors"]
    end

    subgraph P3["Phase 3 ‚Äì Product Features (FUTURE)"]
        C1["User auth & login"]
        C2["Photoshoot booking flows"]
        C3["Admin dashboard<br/>(view messages, bookings)"]
        C4["Notifications / email integration"]
    end

    A1 --> A2 --> A3 --> A4 --> A5 --> A6 --> A7 --> A8
    A8 --> B1
    B1 --> B2 --> B3 --> B4 --> C1
    C1 --> C2 --> C3 --> C4
```

# ‚úîÔ∏è Current Status in Diagram Terms

* Frontend created and functional (local dev working)
* Backend deployed to Cloud Run
* Database connected and storing messages
* End-to-end connection works locally and in production
* Next: Deploy frontend to Vercel and point it to the Cloud Run API
