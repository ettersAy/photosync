
# ğŸ—ï¸ PhotoSync â€” Architecture Diagram

```mermaid
flowchart TD

    subgraph FE[Frontend - Vercel Hosting]
        A[Vue.js 3 SPA<br/>Vite Build]
    end

    subgraph BE[Backend - Google Cloud Run]
        B[Laravel 12 API<br/>Docker Container]
    end

    subgraph DB[Database - Neon Cloud]
        C[(PostgreSQL<br/>photosync_db)]
    end

    A -- HTTPS /api/messages --> B
    B -- SQL over SSL --> C

    A -- Public Access --> User[(End User)]
```

---

# ğŸ“˜ Explanation

### **Frontend (Vercel)**

* Vue.js SPA built with Vite
* Deployed automatically via GitHub integration
* Issues API requests to the backend over HTTPS

### **Backend (Google Cloud Run)**

* Laravel 12 application packaged in a Docker container
* Fully serverless and scalable
* Environment variables store DB credentials & APP_KEY

### **Database (Neon Postgres)**

* Cloud-hosted PostgreSQL instance
* SSL required
* Stores application data (e.g., messages from Contact Us form)

---

Hereâ€™s a single Markdown file containing **all three diagrams** (sequence, deployment, and roadmap) together.

You can save this as `diagrams.md` or merge into `architecture.md`.

---

# ğŸ“Š Diagrams

---

## 1. Sequence Diagram â€“ Contact Us Flow

```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend (Vue.js on Vercel)
    participant B as Backend (Laravel on Cloud Run)
    participant D as DB (Neon Postgres)

    U->>F: Open app (Dashboard / Contact Us)
    F-->>U: Render UI

    U->>F: Submit Contact Form (email + message)
    F->>B: POST /api/messages (JSON body)
    B->>D: INSERT INTO messages (email, msg, timestamps)
    D-->>B: INSERT OK
    B-->>F: 201 Created (JSON { ok: true, id: ... })
    F-->>U: Show success message ("Message sent successfully")
```

---

## 2. Deployment Diagram â€“ Infrastructure & CI/CD

```mermaid
flowchart LR

    subgraph Dev[Source & Development]
        G[GitHub Repo<br/>photosync]
        L[Local Dev / Cloud Shell<br/>Laravel + Vue]
    end

    subgraph GCP[Google Cloud]
        subgraph AR[Artifact Registry]
            R[photosync-repo<br/>Docker Images]
        end

        subgraph CB[Cloud Build]
            C[Build Images<br/>from Dockerfile]
        end

        subgraph CR[Cloud Run]
            S[photosync-backend<br/>Laravel 12 API]
        end
    end

    subgraph Vercel[Vercel Cloud]
        V[Vue.js Frontend<br/>Vite Build]
    end

    subgraph Neon[Neon Cloud]
        N[(PostgreSQL<br/>photosync_db)]
    end

    U[End User Browser]:::user

    %% Flows
    G --> C --> R --> S
    G --> V

    V -->|HTTPS /api/messages| S
    S -->|SQL over SSL| N

    U -->|Open app| V
    U -->|Submit contact form| V

    classDef user fill:#f6f,stroke:#333,stroke-width:1px;
```

---

## 3. Roadmap Diagram â€“ Build Phases

```mermaid
flowchart TD
    subgraph P1["Phase 1 â€“ Foundation (DONE)"]
        A1["Create GitHub repo<br/>photosync"]
        A2["Setup Neon DB<br/>photosync_db"]
        A3["Setup GCP project<br/>photosync-backend-479418"]
        A4["Install Laravel 12<br/>+ .env + APP_KEY"]
        A5["Create messages table<br/>and API /api/messages"]
        A6["Create Vue 3 frontend<br/>Dashboard + Contact Us"]
        A7["Connect frontend to backend in dev<br/>VITE_API_URL=http://localhost:8000"]
        A8["Dockerize Laravel<br/>Deploy to Cloud Run"]
    end

    subgraph P2["Phase 2 â€“ Public Release (NEXT)"]
        B1["Deploy Vue frontend to Vercel"]
        B2["Set Vercel env<br/>VITE_API_URL=Cloud Run URL"]
        B3["Test end-to-end in production<br/>Contact form â†’ Neon DB"]
        B4["Add basic About/Status pages<br/>for visitors"]
    end

    subgraph P3["Phase 3 â€“ Product Features (FUTURE)"]
        C1["User auth & login"]
        C2["Photoshoot booking flows"]
        C3["Admin dashboard<br/>(view messages, bookings)"]
        C4["Notifications / email integration"]
    end

    A1 --> A2 --> A3 --> A4 --> A5 --> A6 --> A7 --> A8
    A8 --> B1
    B1 --> B2 --> B3 --> B4 --> C1
    C1 --> C2 --> C3 --> C4
```

# âœ”ï¸ Current Status in Diagram Terms

* Frontend created and functional (local dev working)
* Backend deployed to Cloud Run
* Database connected and storing messages
* End-to-end connection works locally and in production
* Next: Deploy frontend to Vercel and point it to the Cloud Run API

---

# ğŸ“˜ 1. **Architecture Overview Diagram**

```
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚        FRONTEND          â”‚
                      â”‚      Vue 3 + Vite        â”‚
                      â”‚       (Vercel)           â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚  HTTPS (API Calls)
                                    â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚        BACKEND           â”‚
                      â”‚     Laravel 12 API       â”‚
                      â”‚     (Cloud Run)          â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚  PostgreSQL SSL
                                    â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚         DATABASE         â”‚
                      â”‚     Neon PostgreSQL      â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Local Development Path:
-----------------------

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      http://localhost:5173       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vue Dev     â”‚  ------------------------------> â”‚ Laravel Dev â”‚
â”‚ npm run dev â”‚                                  â”‚ php serve   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                                                         â”‚ SSL
                                                         â–¼
                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                 â”‚  Dev DB (Neon)â”‚
                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

**Summary:**

* Vercel hosts frontend.
* Cloud Run hosts Laravel API container.
* Neon hosts DB (prod + dev separated).
* Local env mirrors prod but with its own DB + servers.

---

# ğŸš€ 2. **CI/CD Pipeline Diagram** (GitHub â†’ Vercel / Cloud Run)

```
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚           Developer / Agent          â”‚
                   â”‚      Push changes to GitHub repo     â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚        GITHUB            â”‚
                      â”‚        ACTIONS           â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                                         â”‚
        â–¼                                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend Build     â”‚                                   â”‚ Backend Build    â”‚
â”‚ (Vercel triggers)  â”‚                                   â”‚ Cloud Build      â”‚
â”‚ npm install â†’ buildâ”‚                                   â”‚ gcloud builds    â”‚
â”‚ deploy to Vercel   â”‚                                   â”‚ push image       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                                     â”‚
            â–¼                                                     â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   VERCEL PROD     â”‚                                  â”‚   CLOUD RUN PROD    â”‚
   â”‚ Deploys dist/     â”‚                                  â”‚ Deploys container   â”‚
   â”‚ Serves frontend   â”‚                                  â”‚ Runs Laravel API    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                                     â”‚
               â–¼                                                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Users  â”‚  <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ API Calls â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ Neon Prod DB    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

**Notes:**

* Frontend uses **Vercel Auto Deploy** on push.
* Backend uses **Cloud Build + Artifact Registry + Cloud Run**.
* Both deploy paths are fully isolated.

---

# ğŸ“‚ 3. **Folder Structure Diagram**

```
photosync/
â”‚
â”œâ”€â”€ app/                     # Laravel API source code
â”œâ”€â”€ bootstrap/
â”œâ”€â”€ config/
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/          # Backend DB schema
â”‚   â””â”€â”€ seeders/
â”‚
â”œâ”€â”€ public/
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ api.php              # All backend API routes
â”‚
â”œâ”€â”€ scripts/                 # Deployment scripts
â”‚   â””â”€â”€ deploy/
â”‚       â”œâ”€â”€ build.sh
â”‚       â”œâ”€â”€ deploy.sh
â”‚       â””â”€â”€ check.sh
â”‚
â”œâ”€â”€ frontend/                # Vue 3 Frontend App
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.vue
â”‚   â”‚   â”‚   â””â”€â”€ Contact.vue
â”‚   â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ App.vue
â”‚   â”‚   â””â”€â”€ main.js
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ .env                 # LOCAL ONLY
â”‚
â”œâ”€â”€ .env                     # LOCAL BACKEND ONLY
â”œâ”€â”€ Dockerfile               # Backend container
â”œâ”€â”€ composer.json
â”œâ”€â”€ package.json
â”‚
â””â”€â”€ doc/
    â”œâ”€â”€ architecture/
    â”‚   â”œâ”€â”€ Environment_Strategy_Diagram.md
    â”‚   â”œâ”€â”€ Architecture_Overview_Diagram.md
    â”‚   â”œâ”€â”€ CICD_Pipeline_Diagram.md
    â”‚   â””â”€â”€ Folder_Structure_Diagram.md
    â”‚
    â””â”€â”€ user-stories/
        â”œâ”€â”€ 1 - ğŸ“Œ Backlog/
        â”œâ”€â”€ 2 - ğŸš§ In Progress/
        â””â”€â”€ 3 - âœ… Done/

```

**Highlights:**

* `frontend/` is a completely isolated Vue app.
* Backend lives in Laravel root folders.
* Deployment scripts live in `/scripts/deploy/`.
* Documentation organized under `/doc/`.

---

If you want, I can also generate:

ğŸ“„ **A â€œOne-Page Architecture Summaryâ€**
ğŸ“„ **A â€œConventions & Rules for AI Agentsâ€ page**
ğŸ“„ **A template for user story folders (`1.Instruction.md`)**

Just tell me.
